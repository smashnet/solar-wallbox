{% extends "layout.html" %}

{% block head %}
    <link rel="stylesheet" href="/static/{{ vars.pluginPackage }}/css/Chart.min.css" />
    <link rel="stylesheet" href="/static/{{ vars.pluginPackage }}/css/bootstrap.min.css" integrity="sha384-CuOF+2SnTUfTwSZjCXf01h7uYhfOBuxIhGKPbfEJ3+FqH/s6cIFN9bGr1HmAg4fQ" />
    <link rel="stylesheet" href="/static/{{ vars.pluginPackage }}/css/dashboard.css" />
    <title>SENEC Dashboard</title>
{% endblock %}
{% block header %}
    {% include vars.pluginPackage + '/header.html' %}
{% endblock %}
{% block content %}
        <main class="flex-fill">
            {% for group in vars.structure.groups %}
            <div class="card borderless mb-2">
                <h6 class="card-subtitle m-2 text-muted d-inline-flex">{{ group.title }}</h6>
                {% if group.prelude is defined %}
                <div class="small ml-2 text-align-left">{{ group.prelude }}</div>
                {% endif %}
                <div class="flex-container flex-row">
                {% for block in group.blocks %}
                    {% if block.type == "square" %}
                        {% include vars.pluginPackage + '/square.html' %}
                    {% elif block.type == "square_wide" %}
                        {% include vars.pluginPackage + '/square_wide.html' %}
                    {% elif block.type == "square_onoff" %}
                        {% include vars.pluginPackage + '/square_onoff.html' %}
                    {% elif block.type == "chartcard" %}
                        {% include vars.pluginPackage + '/chartcard.html' %}
                    {% elif block.type == "infocard" %}
                        {% include vars.pluginPackage + '/infocard.html' %}
                    {% endif %}
                {% endfor %}
                </div>
            </div>
            {% endfor %}
        </main>
{% endblock %}
{% block js %}
    <script src="/static/{{ vars.pluginPackage }}/js/bootstrap.bundle.min.js" integrity="sha384-popRpmFF9JQgExhfw5tZT4I9/CI5e2QcuUZPOVXb1m7qUmeR2b50u+YFEYe1wgzy"></script>
    <script src="/static/{{ vars.pluginPackage }}/js/Chart.bundle.min.js"></script>
    <script src="/static/{{ vars.pluginPackage }}/js/dashboard.js"></script>
{% endblock %}